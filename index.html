<!DOCTYPE html>
<html lang="fr">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="styles.css">
    <title>Elkube</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <header class="header">
        <h1>Elkube</h1>
        <br>
        <text>Elkube est un serveur Minecraft vanilla français avec divers modes de jeux disponibles.</text>
    </header>

    <section class="server-status">
        <h2 class="title" align="center">Statut du serveur Minecraft</h2>
        <p id="status">Chargement des informations du serveur...</p>
        <button class="button-home" onclick="checkServerStatus()">Rafraîchir</button>
    </section>

    <h2 class="title" align="center">Nos gameplays</h2>
    <section class="container">
        <div class="rectangle" onclick="window.location.href = './Bedwars.html';">
            <h3>BedWars</h3>
            <p>Combattez en solo ou en équipes pour défendre votre lit et gagner la victoire !</p>
        </div>
        <div class="rectangle">
            <h3>OneBlock</h3>
            <p>Développez votre île depuis un bloc qui vous fournit vos ressources, en faisant attention à ne pas tomber !</p>
        </div>
        <div class="rectangle">
            <h3>SMP faction avec magie</h3>
            <p>Développez votre clan dans un monde survie normal en multijoueur, en utilisant des sorts pour dominer le serveur !</p>
        </div>
    </section>

    <h2 class="title" align="center">Nous rejoindre</h2>
    <section class="container">
        <div class="rectangle">
            <h3>Minecraft</h3>
            <u><b>
            <p>IP : n1.recloud-hosting.me:1122</p>
            <p>VERSION : 1.20.1</p>
            </b></u>
        </div>
        <div class="rectangle">
            <h3>Discord</h3>
            <p>Rejoignez le serveur Discord pour discuter sur le serveur, vous tenir au courant des derniers changements et connaitre les dates des évènements !</p>
            <p>--> <a href="https://discord.gg/ZkBzCEgHdw">https://discord.gg/ZkBzCEgHdw</a></p>
        </div>
    </section>

    <h2 class="title" align="center">A propos de nous</h2>
    <section class="container">
        <div class="rectangle" onclick="window.location.href = './regles.html';">
            <h3>Règles</h3>
            <p>Cliquez ici pour lire les règles du serveur.</p>
        </div>
        <div class="rectangle">
            <h3>Staff</h3>
            <p>Bientôt disponible ici</p>
        </div>
    </section>

    <script>
        $(document).ready(function(){
            function checkServerStatus() {
                $.ajax({
                    url: "https://api.mcsrvstat.us/2/n1.recloud-hosting.me:1122", 
                    type: "GET",
                    dataType: "json",
                    success: function(response) {
                        if(response.online) {
                            $("#status").text("Le serveur est en ligne - Joueurs en ligne : " + response.players.online);
                            $("#status").css("background-color", "rgb(0, 211, 95)");
                        } else {
                            $("#status").text("Le serveur est hors ligne");
                            $("#status").css("background-color", "rgb(247, 0, 0)");
                        }
                    },
                    error: function() {
                        $("#status").text("Impossible de récupérer le statut du serveur.");
                        $("#status").css("background-color", "rgb(255, 238, 0)");
                    }
                });
            }

            // Vérifier le statut toutes les 30 secondes
            setInterval(checkServerStatus, 30000);
            
            // Vérifier le statut au chargement de la page
            checkServerStatus();
        });
    </script>
</body>
</html>
