<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elkube</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <h1>Site en construction</h1>
    <h1>Elkube</h1>
    <h2>Statut du serveur Minecraft</h2>
    <p id="online"></p>
    <p id="offline"></p>
    <p id ="error"></p>

    <script>
        $(document).ready(function(){
            function checkServerStatus() {
                $.ajax({
                    url: "https://api.mcsrvstat.us/2/n1.recloud-hosting.me:1122", 
                    type: "GET",
                    dataType: "json",
                    success: function(response) {
                        if(response.online) {
                            $("#online").text("Le serveur est en ligne - Joueurs en ligne : " + response.players.online);
                        } else {
                            $("#offline").text("Le serveur est hors ligne");
                        }
                    },
                    error: function() {
                        $("#error").text("Impossible de récupérer le statut du serveur.");
                    }
                });
            }

            // Vérifier le statut toutes les 30 secondes
            setInterval(checkServerStatus, 30000);
            
            // Vérifier le statut au chargement de la page
            checkServerStatus();
        });
    </script>
  </body>
</html>
